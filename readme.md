# 数据库game

### 用户信息表user_info设置自增长属性从10000开始

用户uid、头像img、用户密码pwd、用户昵称name、用户性别sex、个性签名sign、地点city、经验exp、段位level、点赞数click、所属公会sid(设置普通索引)
说明：
1. 用户id、昵称必填且不能重复，id设置自增、密码设置必填
2. 个性签名默认“这个家伙很懒。。。。”
3. 地点、性别等默认“未填”
4. 段位设置：青铜、白银、黄金、白金、钻石、史诗、王者，每一大段有三小段，
    这里段位用数字表示1,2,3表示青铜一、二、三星，以此类推
    每小段消耗经验100，经验只显示超过当前段位的部分(经验值范围为0-99(含)，每到100则升段)
5. 个性签名点赞数默认为0
6. 头像img采用mediumblob存储、默认为空
7. 默认所属公会：无

### 好友关系表friend 私聊

记录id自增长主键、用户id1、用户id2、聊天内容content-text、记录时间record-now()
说明：
1. 记录每个用户与好友的聊天记录内容与时间
2. 时间以添加时时间为准
3. 注意外键约束

### 公会信息society设置自增长属性从100000开始
公会sid自增长属性主键、公会名称sname、会长id、公会签名ssign、公会成立时间stime-now()、公会成员个数snum

### 排行榜，建立用户信息视图
保留用户id、昵称、段位，注：视图按照先段位后经验倒序排序，限制排行数量为150

# 正式游戏
### 客户端(使用类封装)
属性：
    self.__id = 0
方法：
1. 连接上服务器
2. 登录self.__login
    1. 输入用户id或者昵称和密码，消息格式设定为VL-id或者昵称-密码
    2. 发送消息包给服务器，服务器如果返回OK，则进入游戏主界面
    3. 否则打印"账户信息错误"，重新登录
    4. 成功登录后服务器返回用户id self.__id = 
3. 注册self.__register
    1. 输入用户昵称，消息格式设定为VR-昵称
    2. 服务器返回OK，二次输入密码，两次密码相同，将消息包以格式ADD-昵称-密码 发送到服务器，服务器返回用户id
    3. 不然打印"用户名重复"，返回1
    4. 注册成功进入游戏
    5. 记录客户端用户id   self.__id = 
4. 菜单self.__show_menu    if条件句处理
    1. 查看角色信息，向数据库发起请求QI-用户id，服务器返回角色信息以"-"连接的字符串，打印此字符串
    2. 查看好友列表，QF-用户id
    3. 查看好友聊天记录，QR-用户id-好友id
    4. 多线程功能，子线程循环接收公会聊天记录，用process多进程实现边接受边发送，发消息的格式为：SC-用户id-内容
        记录公会每次聊天的人员id和聊天内容，以'id content'格式追加写入本地文件society_chatting.txt
    5. 世界聊天，多线程循环接收世界消息'id content'写入world_chatting.txt，多进程实现边写边读，发消息格式：WC-用户id-内容
    6. 接收服务器消息：WC- 世界消息，FC- 好友消息， SM-系统消息，SC- 公会消息
        打印出接收到消息
    7. 查看排行榜：QR-用户id  



### 服务端
方法：
1. 















